@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model RentManagement.Models.User
@{
    ViewData["Title"] = "Profile";
}

<div class="flex justify-center">
    <div class="w-full max-w-4xl">
        <div class="bg-white shadow-lg rounded-lg overflow-hidden">
            <div class="bg-blue-500 text-white px-6 py-4">
                <h2 class="text-2xl font-bold flex items-center">
                    <i class="fas fa-user-circle mr-3"></i>User Profile
                </h2>
            </div>
            <div class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center">
                        <div class="mb-4">
                            <i class="fas fa-user-circle text-blue-500 text-6xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900">@Model.FullName</h3>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium @(Model.Role == RentManagement.Models.UserRole.Admin ? "bg-red-100 text-red-800" : Model.Role == RentManagement.Models.UserRole.Checker ? "bg-blue-100 text-blue-800" : "bg-yellow-100 text-yellow-800")">
                            @Model.Role.GetDisplayName()
                        </span>
                    </div>
                    <div class="md:col-span-2">
                        <div class="space-y-4">
                            <div class="flex items-center">
                                <i class="fas fa-user w-5 h-5 text-gray-400 mr-3"></i>
                                <span class="font-medium text-gray-700 w-24">Username:</span>
                                <span class="text-gray-900">@Model.Username</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-envelope w-5 h-5 text-gray-400 mr-3"></i>
                                <span class="font-medium text-gray-700 w-24">Email:</span>
                                <span class="text-gray-900">@Model.Email</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-phone w-5 h-5 text-gray-400 mr-3"></i>
                                <span class="font-medium text-gray-700 w-24">Phone:</span>
                                <span class="text-gray-900">@(Model.PhoneNumber ?? "Not provided")</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-building w-5 h-5 text-gray-400 mr-3"></i>
                                <span class="font-medium text-gray-700 w-24">Department:</span>
                                <span class="text-gray-900">@(Model.Department ?? "Not assigned")</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-calendar-alt w-5 h-5 text-gray-400 mr-3"></i>
                                <span class="font-medium text-gray-700 w-24">Member Since:</span>
                                <span class="text-gray-900">@Model.CreatedAt.ToString("MMMM dd, yyyy")</span>
                            </div>
                            @if (Model.LastLoginAt.HasValue)
                            {
                                <div class="flex items-center">
                                    <i class="fas fa-clock w-5 h-5 text-gray-400 mr-3"></i>
                                    <span class="font-medium text-gray-700 w-24">Last Login:</span>
                                    <span class="text-gray-900">@Model.LastLoginAt.Value.ToString("MMMM dd, yyyy HH:mm")</span>
                                </div>
                            }
                            <div class="flex items-center">
                                <i class="fas fa-toggle-on w-5 h-5 text-gray-400 mr-3"></i>
                                <span class="font-medium text-gray-700 w-24">Status:</span>
                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium @(Model.IsActive ? "bg-green-100 text-green-800" : "bg-red-100 text-red-800")">
                                    @(Model.IsActive ? "Active" : "Inactive")
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="my-6">

                <div class="flex flex-wrap gap-4 justify-center">
                    <a asp-action="ChangePassword" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded">
                        <i class="fas fa-key mr-2"></i>Change Password
                    </a>
                    <a asp-action="Dashboard" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                    </a>
                    @if (User.IsInRole("Admin"))
                    {
                        <a asp-controller="Admin" asp-action="EditUser" asp-route-id="@Model.Id" class="bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded">
                            <i class="fas fa-edit mr-2"></i>Edit Profile
                        </a>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
